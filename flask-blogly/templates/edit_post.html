{% extends 'base.html' %}

{% block page_title %}
  Edit Post
{% endblock %}

{% block content %}
  <form action="/users/{{ post.user_id }}/posts/{{ post.id }}/edit" method="POST">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" value="{{ post.title }}" required>
    <br>
    <label for="content">Content:</label>
    <textarea id="content" name="content" required>{{ post.content }}</textarea>
    <br>
    <label for="tags">Tags:</label>
    {% for tag in tags %}
      <div>
        <input type="checkbox" id="tag_{{ tag.id }}" name="tags" value="{{ tag.id }}" {% if tag in post.tags %}checked{% endif %}>
        <label for="tag_{{ tag.id }}">{{ tag.name }}</label>
      </div>
    {% endfor %}
    <br>
    <button type="submit">Update Post</button>
    <button onclick="window.location.href='/posts/{{ post.id }}'">Cancel</button>
  </form>
{% endblock %}